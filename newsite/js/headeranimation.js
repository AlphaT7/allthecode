var c=document.getElementById("canvas"),ctx=c.getContext("2d"),main={vars:{color:{c0:"rgba(255, 255, 255, 0)",c1:"rgba(255, 255, 255, .1)",c2:"rgba(255, 255, 255, .15)",c3:"rgba(255, 255, 255, .2",c4:"rgba(255, 255, 255, .25)",c5:"rgba(255, 255, 255, .3",c6:"rgba(255, 255, 255, .35",c7:"rgba(255, 255, 255, .4"},squares:[],step:0,increment:0,totalgroups:0,maincount:1,groups:{}},methods:{setup:function(){function a(){if(e<main.vars.totalgroups){var b=Date.now();main.vars.groups[e]=b;main.vars.groups[b+
    "flag"]=!1;main.vars.groups[b+"random"]=main.methods.getRandomArbitrary();main.vars.groups[b+"count1"]=0;main.vars.groups[b+"count2"]=8;main.vars.groups[b+"limit"]=8;e++;setTimeout(function(){a()},15)}}var b=document.body.getBoundingClientRect(),d=document.getElementById("canvas");d.width=b.width;d.height=78;main.vars.totalgroups=Math.floor(d.width*d.height/625*.75/8);var e=0;a();main.methods.gridsetup()},drawsquare:function(a){ctx.fillStyle=a.c;ctx.fillRect(a.x,a.y,a.w,a.h)},gridsetup:function(){main.vars.squares.length=
    0;var a=document.getElementById("canvas").width;a=Math.floor(a/25)+1;for(var b=1,d=0;13>d;d++)for(var e=26*d,f=0;f<a;f++){var g=26*f;7>=b||(b=1);main.vars.squares.push({x:g,y:e,w:25,h:25,c:main.vars.color.c0});b++}},gridanimate:function(a){var b=main.vars.groups,d=main.vars.color;if(0==b[a+"flag"])b[a+"random"]=main.methods.getRandomArbitrary(),b[a+"flag"]=!0;else if(b[a+"count1"]<b[a+"limit"])main.vars.squares[b[a+"random"]].c=d["c"+b[a+"count1"]],b[a+"random"]++,b[a+"count1"]++;else if(b[a+"count1"]==
    b[a+"limit"]){for(var e=b[a+"random"]-7;e<=b[a+"random"];e++)switch(main.vars.squares[e].c){case d.c7:main.vars.squares[e].c=d.c6;break;case d.c6:main.vars.squares[e].c=d.c5;break;case d.c5:main.vars.squares[e].c=d.c4;break;case d.c4:main.vars.squares[e].c=d.c3;break;case d.c3:main.vars.squares[e].c=d.c2;break;case d.c2:main.vars.squares[e].c=d.c1;break;case d.c1:main.vars.squares[e].c=d.c0}0>=b[a+"count2"]&&(b[a+"flag"]=!1,b[a+"count1"]=0,b[a+"count2"]=8);b[a+"count2"]--}},getRandomArbitrary:function(){var a=
    document.getElementById("canvas");return Math.floor(Math.random()*(Math.floor(a.width*a.height/625)-1))+1},animate:function(){if(0==main.vars.step%8){var a=main.vars.squares;ctx.clearRect(0,0,canvas.width,canvas.height);if(1>=main.vars.maincount){for(i=0;i<main.vars.totalgroups;i+=5)main.methods.gridanimate(main.vars.groups[i]);main.vars.maincount++}else if(5>=main.vars.maincount){for(i=0;i<main.vars.totalgroups;i+=5)main.methods.gridanimate(main.vars.groups[i]);for(i=1;i<main.vars.totalgroups;i+=
    5)main.methods.gridanimate(main.vars.groups[i]);main.vars.maincount++}else if(10>=main.vars.maincount){for(i=0;i<main.vars.totalgroups;i+=5)main.methods.gridanimate(main.vars.groups[i]);for(i=1;i<main.vars.totalgroups;i+=5)main.methods.gridanimate(main.vars.groups[i]);for(i=2;i<main.vars.totalgroups;i+=5)main.methods.gridanimate(main.vars.groups[i]);main.vars.maincount++}else if(15>=main.vars.maincount){for(i=0;i<main.vars.totalgroups;i+=5)main.methods.gridanimate(main.vars.groups[i]);for(i=1;i<main.vars.totalgroups;i+=
    5)main.methods.gridanimate(main.vars.groups[i]);for(i=2;i<main.vars.totalgroups;i+=5)main.methods.gridanimate(main.vars.groups[i]);for(i=3;i<main.vars.totalgroups;i+=5)main.methods.gridanimate(main.vars.groups[i]);main.vars.maincount++}else if(20>=main.vars.maincount){for(i=0;i<main.vars.totalgroups;i+=5)main.methods.gridanimate(main.vars.groups[i]);for(i=1;i<main.vars.totalgroups;i+=5)main.methods.gridanimate(main.vars.groups[i]);for(i=2;i<main.vars.totalgroups;i+=5)main.methods.gridanimate(main.vars.groups[i]);
    for(i=3;i<main.vars.totalgroups;i+=5)main.methods.gridanimate(main.vars.groups[i]);for(i=4;i<main.vars.totalgroups;i+=5)main.methods.gridanimate(main.vars.groups[i]);main.vars.maincount++}else{for(i=0;i<main.vars.totalgroups;i+=5)main.methods.gridanimate(main.vars.groups[i]);for(i=1;i<main.vars.totalgroups;i+=5)main.methods.gridanimate(main.vars.groups[i]);for(i=2;i<main.vars.totalgroups;i+=5)main.methods.gridanimate(main.vars.groups[i]);for(i=3;i<main.vars.totalgroups;i+=5)main.methods.gridanimate(main.vars.groups[i]);
    for(i=4;i<main.vars.totalgroups;i+=5)main.methods.gridanimate(main.vars.groups[i])}a.forEach(function(a,d,e){main.methods.drawsquare(a)})}},step:function(){main.methods.animate();main.vars.step++;window.requestAnimationFrame(main.methods.step)}}};main.methods.setup();main.methods.step();